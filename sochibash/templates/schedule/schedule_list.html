{% extends 'base.html' %}
{% load static %}
{% block content %}
    <script src={% static "fullcalendar-6.1.5/dist/index.global.min.js" %}></script>
    <script src={% static "fullcalendar-6.1.5/packages/core/locales-all.global.js" %}></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
            footerToolbar: {
            right: 'timeGridWeek,listMonth',
            },
            buttonText: {
              today:    'сегодня',
              month:    'месяц',
              week:     'неделя',
              day:      'день',
              list:     'список'
            },
          allDayText: 'Весь день',
          firstDay: 1,
          locales: 'allLocales',
          locale: 'ru',
          initialView: 'listMonth',
          events: [
          {% for schedule in schedules %}
            {
                title: '{{ schedule.title }}',
                start: '{{ schedule.iso_start }}',
                end: '{{ schedule.iso_end }}'
            }
            {% if not forloop.last %}
              ,
            {% endif %}
          {% endfor %}
          ]
        });
        calendar.render();
      });

    </script>
<section class="box">
  <h2 align="center">Расписание</h2>
  <div id='calendar'></div>
  <div class="schedule-container">
    {% for schedule in schedules %}
      <div class="schedule-item">
        <div class="schedule-date">{{ schedule.date }}</div>
        <div class="schedule-time">{{ schedule.start_time }} - {{ schedule.end_time }}</div>
        <div class="schedule-title">{{ schedule.title }}</div>
        <div class="schedule-description">{{ schedule.description }}</div>
      </div>
    {% endfor %}
  </div>
</section>
{% endblock %}-->

